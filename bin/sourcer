#!/usr/bin/env bash
# shellcheck disable=SC1090
########################
## sourcer            ##
##                    ##
## Includes libraries ##
########################

# Read from environment
lib_dir="${DIR_SHELL_LIB:-}"

# No env var --> fall back to default
if [[ -z "${lib_dir}" ]]; then
    # Get sourcer script dir
    path_self=$(realpath "${0}")
    base_dir="$(cd "$(dirname "${path_self}")" >/dev/null 2>&1 && pwd)"
    lib_dir="${base_dir}/../lib"
fi

# Import lib files
# shellcheck disable=SC2312
while IFS= read -r -d '' file; do
    source "${file}"
done < <(find "${lib_dir}" -type f -print0)
